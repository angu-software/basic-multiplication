#!/bin/bash

TCR_HOME="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
TCR_HOME="${TCR_HOME:-"$(cd "$(dirname "$0")" && pwd)"}"

TCR_WORK_DIRECTORY="${TCR_WORK_DIRECTORY:-"$(pwd)"}"

source "$TCR_HOME/lib/tcr/actions.sh"

tcr() {
    local action="$1"

    case "$action" in
        "$TCR_ACTION_ENABLE")
            tcr_action_enable
        ;;
        "$TCR_ACTION_DISABLE")
            tcr_action_disable
        ;;
        "$TCR_ACTION_RUN")
            tcr_action_run
        ;;
        *)
            error_raise "$TCR_ERROR_TCR_UNKNOWN_ACTION"
        ;;
    esac
}

# -- Main -- #

if [ "${BASH_SOURCE[0]}" = "$0" ]; then
    tcr "$@"
fi